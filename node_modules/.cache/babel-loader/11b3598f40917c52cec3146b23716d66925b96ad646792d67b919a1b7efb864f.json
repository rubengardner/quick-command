{"ast":null,"code":"function Storage() {}\nStorage.configure = function (details) {\n  if (!chrome || !chrome.storage) {\n    throw new Error(\"The chrome.storage object is not available.\");\n  }\n  if (Storage._configured || Storage._loadingFlag || Storage._loaded) {\n    throw new Error(\"Storage can only be configured once and must be configured before the load method is called.\");\n  }\n  Storage._configured = true;\n  var scope = details.scope;\n  if (scope) {\n    if (!/^(sync|local)$/.test(scope)) {\n      throw new Error(\"Invalid scope. Must be \\\"local\\\" or \\\"sync\\\"\");\n    }\n    Storage._scope = scope;\n  }\n};\nStorage.load = function (callback) {\n  if (callback) {\n    Storage._loadingQue.push(callback);\n  }\n  if (Storage._loadingFlag) {\n    return;\n  }\n  Storage._loadingFlag = true;\n  Storage._do(\"get\", [null, function (e) {\n    Storage._snapshot = e;\n    Storage._loadingFlag = false;\n    Storage._loaded = true;\n    for (var i in Storage._loadingQue) {\n      Storage._loadingQue[i](e);\n    }\n    Storage._loadingQue = [];\n    chrome.storage.onChanged.addListener(Storage._onChanged);\n  }]);\n};\nStorage._snapshot = {};\nStorage._scope = \"local\";\nStorage._loaded = false;\nStorage._loadingFlag = false;\nStorage._loadingQue = [];\nStorage._configured = false;\nStorage._debounceQue = [];\nStorage._debounceTimer = null;\nStorage._onChanged = function (properties, scope) {\n  if (scope !== Storage._scope) {\n    return;\n  }\n  for (var i in properties) {\n    Storage._snapshot[i] = properties[i].newValue;\n  }\n};\nStorage._do = function (method, args) {\n  Storage._debounceMethod(function () {\n    chrome.storage[Storage._scope][method].apply(chrome.storage[Storage._scope], args);\n  });\n};\nStorage._debounceMethod = function (method) {\n  Storage._debounceQue.push(method);\n  Storage._debounceTimer = clearTimeout(Storage._debounceTimer);\n  Storage._debounceTimer = setTimeout(Storage._onDebounceTimer.bind(Storage));\n};\nStorage._onDebounceTimer = function () {\n  var copy = [];\n  for (var i in Storage._debounceQue) {\n    copy.push(Storage._debounceQue[i]);\n  }\n  Storage._debounceQue = [];\n  Storage._debounceTimer = null;\n  for (var i in copy) {\n    copy[i]();\n  }\n};\nStorage.get = function (key, defaultValue) {\n  if (!Storage._loaded) {\n    throw new Error(\"Storage.load must be called before you can access this method.\");\n  }\n  if (key === undefined || key === null) {\n    return Storage._snapshot;\n  } else if (typeof key === \"object\") {\n    var obj = {};\n    if (key.constructor === Array) {\n      for (var i in key) {\n        obj[key[i]] = true;\n      }\n    } else {\n      for (var i in key) {\n        obj[i] = true;\n      }\n    }\n    for (var i in obj) {\n      obj[i] = Storage._snapshot[i];\n    }\n    return obj;\n  } else {\n    var value = Storage._snapshot[key];\n    return value === undefined ? defaultValue : value;\n  }\n};\nStorage.set = function (key, value, callback) {\n  if (!Storage._loaded) {\n    throw new Error(\"Storage.load must be called before you can access this method.\");\n  }\n  var obj = {};\n  if (typeof key === \"object\") {\n    obj = key;\n    callback = value;\n  } else {\n    obj[key] = value;\n  }\n  var removes = {};\n  var sets = {};\n  var hasRemoves = false;\n  var hasSets = false;\n  for (var i in obj) {\n    if (obj[i] === undefined || obj[i] === null) {\n      removes[i] = obj[i];\n      hasRemoves = true;\n      delete Storage._local[i];\n    } else {\n      sets[i] = obj[i];\n      hasSets = true;\n      Storage._snapshot[i] = obj[i];\n    }\n  }\n  if (hasRemoves) {\n    Storage._do(\"remove\", [removes]);\n  }\n  if (hasSets) {\n    Storage._do(\"set\", [sets, callback]);\n  } else if (callback) {\n    callback();\n  }\n};\nStorage.remove = function (key) {\n  if (!Storage._loaded) {\n    throw new Error(\"Storage.load must be called before you can access this method.\");\n  }\n  var keys = typeof key === \"object\" ? key : [key];\n  var obj = {};\n  for (var i in keys) {\n    obj[keys[i]] = undefined;\n  }\n  Storage.set(obj);\n};\nStorage.clear = function (callback) {\n  if (!Storage._loaded) {\n    throw new Error(\"Storage.load must be called before you can access this method.\");\n  }\n  Storage._snapshot = {};\n  Storage._do(\"clear\", [callback]);\n};\nmodule ? module.exports = Storage : null;","map":{"version":3,"names":["Storage","configure","details","chrome","storage","Error","_configured","_loadingFlag","_loaded","scope","test","_scope","load","callback","_loadingQue","push","_do","e","_snapshot","i","onChanged","addListener","_onChanged","_debounceQue","_debounceTimer","properties","newValue","method","args","_debounceMethod","apply","clearTimeout","setTimeout","_onDebounceTimer","bind","copy","get","key","defaultValue","undefined","obj","constructor","Array","value","set","removes","sets","hasRemoves","hasSets","_local","remove","keys","clear","module","exports"],"sources":["/Users/ruben_gardner/personalProject/quick-command-3/node_modules/chrome-storage/Storage.js"],"sourcesContent":["function Storage(){}\n\nStorage.configure = function(details) {\n    if (!chrome || !chrome.storage) {\n        throw new Error(\"The chrome.storage object is not available.\");\n    }\n    if (Storage._configured || Storage._loadingFlag || Storage._loaded) {\n        throw new Error(\"Storage can only be configured once and must be configured before the load method is called.\");\n    }\n    Storage._configured = true;\n    var scope = details.scope;\n    if (scope) {\n        if (!/^(sync|local)$/.test(scope)) {\n            throw new Error(\"Invalid scope. Must be \\\"local\\\" or \\\"sync\\\"\");\n        }\n        Storage._scope = scope;\n    }\n}\n\nStorage.load = function(callback) {\n    if (callback) {\n        Storage._loadingQue.push(callback);\n    }\n    if (Storage._loadingFlag) {\n        return;\n    }\n    Storage._loadingFlag = true;\n    Storage._do(\"get\", [null, function(e) {\n        Storage._snapshot = e;\n        Storage._loadingFlag = false;\n        Storage._loaded = true;\n        for (var i in Storage._loadingQue) {\n            Storage._loadingQue[i](e);\n        }\n        Storage._loadingQue = [];\n        chrome.storage.onChanged.addListener(Storage._onChanged);\n    }]);\n}\n\nStorage._snapshot = {};\nStorage._scope = \"local\";\nStorage._loaded = false;\nStorage._loadingFlag = false;\nStorage._loadingQue = [];\nStorage._configured = false;\nStorage._debounceQue = [];\nStorage._debounceTimer = null;\n\nStorage._onChanged = function(properties, scope) {\n    if (scope !== Storage._scope) {\n        return;\n    }\n    for (var i in properties) {\n        Storage._snapshot[i] = properties[i].newValue;\n    }\n}\n\nStorage._do = function(method, args) {\n    Storage._debounceMethod(function() {\n        chrome.storage[Storage._scope][method].apply(chrome.storage[Storage._scope], args);\n    });\n}\n\nStorage._debounceMethod = function(method) {\n    Storage._debounceQue.push(method);\n    Storage._debounceTimer = clearTimeout(Storage._debounceTimer);\n    Storage._debounceTimer = setTimeout(Storage._onDebounceTimer.bind(Storage));\n}\n\nStorage._onDebounceTimer = function() {\n    var copy = [];\n    for (var i in Storage._debounceQue) {\n        copy.push(Storage._debounceQue[i]);\n    }\n    Storage._debounceQue = [];\n    Storage._debounceTimer = null;\n    for (var i in copy) {\n        copy[i]();\n    }\n}\n\nStorage.get = function(key, defaultValue) {\n    if (!Storage._loaded) {\n        throw new Error(\"Storage.load must be called before you can access this method.\");\n    }\n    if (key === undefined || key === null) {\n        return Storage._snapshot;\n    }\n    else if (typeof(key) === \"object\") {\n        var obj = {};\n        if (key.constructor === Array) {\n            for (var i in key) {\n                obj[key[i]] = true;\n            }\n        }\n        else {\n            for (var i in key) {\n                obj[i] = true;\n            }\n        }\n        for (var i in obj) {\n            obj[i] = Storage._snapshot[i];\n        }\n        return obj;\n    }\n    else {\n        var value = Storage._snapshot[key];\n        return value === undefined ? defaultValue : value;\n    }\n}\n\nStorage.set = function(key, value, callback) {\n    if (!Storage._loaded) {\n        throw new Error(\"Storage.load must be called before you can access this method.\");\n    }\n    var obj = {};\n    if (typeof(key) === \"object\") {\n        obj = key;\n        callback = value;\n    }\n    else {\n        obj[key] = value;\n    }\n    var removes = {};\n    var sets = {};\n    var hasRemoves = false;\n    var hasSets = false;\n    for (var i in obj) {\n        if (obj[i] === undefined || obj[i] === null) {\n            removes[i] = obj[i];\n            hasRemoves = true;\n            delete Storage._local[i];\n        \n        }\n        else {\n            sets[i] = obj[i];\n            hasSets = true;\n            Storage._snapshot[i] = obj[i];\n        }\n    }\n    if (hasRemoves) {\n        Storage._do(\"remove\", [removes]);\n    }\n    if (hasSets) {\n        Storage._do(\"set\", [sets, callback]);\n    }\n    else if (callback) {\n        callback();\n    }\n}\n\nStorage.remove = function(key) {\n    if (!Storage._loaded) {\n        throw new Error(\"Storage.load must be called before you can access this method.\");\n    }\n    var keys = typeof(key) === \"object\" ? key : [key];\n    var obj = {};\n    for (var i in keys) {\n        obj[keys[i]] = undefined;\n    }\n    Storage.set(obj);\n}\n\nStorage.clear = function(callback) {\n    if (!Storage._loaded) {\n        throw new Error(\"Storage.load must be called before you can access this method.\");\n    }\n    Storage._snapshot = {};\n    Storage._do(\"clear\", [callback]);\n}\n\nmodule ? (module.exports = Storage) : null;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}